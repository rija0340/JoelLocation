{% extends 'vitrine/layouts/page_layout.html.twig' %}

{% block title %}Nous contacter en Guadeloupe{% endblock %}

{% block content %}
<div
    class="relative min-h-screen"
    style="background-image:  url('{{ asset('build/images/iStock-177820652.17652885.jpg') }}'); background-size: cover; background-position: center; background-attachment: fixed;"
>
    <!-- Glassmorphism effect for the form container -->
    <div class="absolute inset-0 bg-gradient-to-br from-black/40 to-joel-red/20"></div>
    <div class="container mx-auto py-16 px-4 relative z-10">
        <div class="text-center mb-12 animate-slide-up">
            <h1 class="text-3xl md:text-4xl font-bold text-white mb-4 drop-shadow-lg">Nous contacter</h1>
            <p class="text-lg text-white/90 drop-shadow">Vous pouvez nous envoyer un message ici</p>
            <div class="w-24 h-1 bg-joel-beige mx-auto mt-4 shadow-lg"></div>
        </div>

        {% if success_message %}
        <div class="alert alert-success alert-dismissible fade show mb-4 max-w-2xl mx-auto" role="alert">
            <strong class="text-joel-red">Succès !</strong> {{ success_message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% endif %}

        {{ form_start(form, {'attr': {'class': 'form-contact max-w-4xl mx-auto'}}) }}

        <div class="p-8 bg-white/10 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 animate-slide-up">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="{{ form.nom.vars.id }}" class="block text-joel-beige font-bold mb-2">Nom :</label>
                    {{ form_widget(form.nom, {'attr': {'class': 'w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder:text-white/70 border border-white/30 focus:outline-none focus:ring-2 focus:ring-joel-red focus:border-transparent transition-all duration-300'}}) }}
                </div>
                <div>
                    <label for="{{ form.email.vars.id }}" class="block text-joel-beige font-bold mb-2">Email :</label>
                    {{ form_widget(form.email, {'attr': {'class': 'w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder:text-white/70 border border-white/30 focus:outline-none focus:ring-2 focus:ring-joel-red focus:border-transparent transition-all duration-300'}}) }}
                </div>
                <div>
                    <label for="{{ form.telephone.vars.id }}" class="block text-joel-beige font-bold mb-2">Téléphone :</label>
                    {{ form_widget(form.telephone, {'attr': {'class': 'w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder:text-white/70 border border-white/30 focus:outline-none focus:ring-2 focus:ring-joel-red focus:border-transparent transition-all duration-300'}}) }}
                </div>
                <div>
                    <label for="{{ form.adresse.vars.id }}" class="block text-joel-beige font-bold mb-2">Adresse :</label>
                    {{ form_widget(form.adresse, {'attr': {'class': 'w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder:text-white/70 border border-white/30 focus:outline-none focus:ring-2 focus:ring-joel-red focus:border-transparent transition-all duration-300'}}) }}
                </div>

                <div class="md:col-span-2">
                    <label for="{{ form.objet.vars.id }}" class="block text-joel-beige font-bold mb-2">Objet* :</label>
                    <div class="w-1/4 md:w-1/5">
                        {{ form_widget(form.objet, {'attr': {'class': 'w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder:text-white/70 border border-white/30 focus:outline-none focus:ring-2 focus:ring-joel-red focus:border-transparent transition-all duration-300'}}) }}
                    </div>
                </div>
                <div class="md:col-span-2">
                    <label for="{{ form.message.vars.id }}" class="block text-joel-beige font-bold mb-2">Message :</label>
                    {{ form_widget(form.message, {'attr': {'class': 'w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder:text-white/70 border border-white/30 focus:outline-none focus:ring-2 focus:ring-joel-red focus:border-transparent transition-all duration-300 h-32', 'placeholder': 'Pour une demande de devis, veuillez préciser vos dates de retrait et de retour ainsi que le lieu (Aéroport ou autre).'}}) }}
                </div>

                <div class="md:col-span-2 flex justify-center">
                    <input 
                        class="inline-flex items-center bg-joel-red hover:bg-joel-red-dark text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-300 hover:scale-105 hover:shadow-lg cursor-pointer" 
                        type="submit" 
                        value="Envoyer Message">
                </div>
            </div>
        </div>

        {{ form_end(form) }}
    </div>
    
    <script>
        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all animated elements
        document.querySelectorAll('.animate-slide-up').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });
    </script>
</div>
{% endblock %}